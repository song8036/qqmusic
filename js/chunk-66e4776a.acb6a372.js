(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-66e4776a"],{3243:function(t,a,e){},"4c86":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"song-list"},[e("MusicLoading",{attrs:{loading:t.loading}}),e("MusicHeader"),e("div",{staticClass:"container"},[t._m(0),e("div",{staticClass:"categories"},t._l(t.categories,(function(a,i){return e("div",{key:i,staticClass:"category"},[e("ul",{staticClass:"clearfix"},["语种"==a.categoryName?t._l(a.subCate.filter((function(t,a){return a<5})),(function(a,i){return e("li",{key:i},[e("router-link",{staticClass:"item ellipsis",attrs:{to:"/songlist/"+a.id}},[t._v(" "+t._s(a.categoryName)+" ")])],1)})):t._l(a.subCate.filter((function(t,a){return a<8})),(function(a,i){return e("li",{key:i},[e("router-link",{staticClass:"item ellipsis",attrs:{to:"/songlist/"+a.id}},[t._v(" "+t._s(a.categoryName)+" ")])],1)})),e("li",[e("el-popover",{attrs:{placement:"bottom",width:"350",trigger:"click"}},[e("a",{staticClass:"item more",attrs:{slot:"reference",href:"javascript:void(0)"},slot:"reference"},[t._v(" 更多"),e("i")]),e("div",{staticClass:"more-content"},[e("ul",{staticClass:"clearfix"},["语种"==a.categoryName?t._l(a.subCate.filter((function(t,a){return a>=5})),(function(a,i){return e("li",{key:i},[e("router-link",{staticClass:"item ellipsis",attrs:{to:"/songlist/"+a.id}},[t._v(" "+t._s(a.categoryName)+" ")])],1)})):t._l(a.subCate.filter((function(t,a){return a>=8})),(function(a,i){return e("li",{key:i},[e("router-link",{staticClass:"item ellipsis",attrs:{to:"/songlist/"+a.id}},[t._v(" "+t._s(a.categoryName)+" ")])],1)}))],2)])])],1)],2)])})),0),e("div",{staticClass:"songs"},[e("div",{staticClass:"list"},t._l(t.songs,(function(a,i){return e("div",{key:i,staticClass:"song"},[e("router-link",{attrs:{to:"/songdetail/"+a.id}},[e("div",{staticClass:"logo"},[e("img",{attrs:{src:a.pic,alt:a.title}}),e("div",{staticClass:"play-bar"},[e("span",{staticClass:"iconfont"},[t._v("")])])]),e("div",{staticClass:"title"},[t._v(" "+t._s(a.title)+" ")])])],1)})),0),e("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"page-size":t.pageSize,"current-page":t.pageNo},on:{"current-change":t.changePage}})],1),e("MusicLive")],1),e("MusicFooter")],1)},s=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"titles"},[e("h2",[e("span",{staticClass:"iconfont"},[t._v("")]),t._v(" 语种")]),e("h2",[e("span",{staticClass:"iconfont"},[t._v("")]),t._v(" 流派")]),e("h2",[e("span",{staticClass:"iconfont"},[t._v("")]),t._v(" 情感")]),e("h2",[e("span",{staticClass:"iconfont"},[t._v("")]),t._v(" 场景")]),e("h2",[e("span",{staticClass:"iconfont"},[t._v("")]),t._v(" 主题")])])}];e("99af"),e("d3b7");function n(t,a,e){return a in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}var o=e("bc3a"),r=e.n(o),c={name:"SongList",data:function(){var t;return t={categories:[],pageSize:50,songs:[],loading:!1,total:0},n(t,"pageSize",50),n(t,"pageNo",this.$route.query.pageNo-0||1),t},beforeRouteEnter:function(t,a,e){e((function(t){t.getCategories(),t.getSongs(t.pageNo,t.$route.params.subCateId)}))},methods:{changePage:function(t){this.pageNo=t;var a=this.$route.params.subCateId-0||"";this.$router.push({name:"SongList",params:{subCateId:a},query:{pageNo:t}})},getCategories:function(){var t=this;this.loading=!0,r.a.get("/api/v1/tracklist/category").then((function(a){t.categories=a.data.data,t.loading=!1})).catch((function(a){t.loading=!1}))},getSongs:function(t,a){var e=this;t||(t=1),a||(a="");var i="/api/v1/tracklist/list?pageNo=".concat(t,"&pageSize=").concat(this.pageSize,"&subCateId=").concat(a);this.loading=!0,r.a.get(i).then((function(t){e.songs=t.data.data.result,e.total=t.data.data.total})).finally((function(){e.loading=!1}))}},beforeRouteUpdate:function(t,a,e){this.getCategories(),this.pageNo=t.query.pageNo-0||1,this.getSongs(this.pageNo,t.params.subCateId),e()}},l=c,u=(e("ec3f"),e("2877")),g=Object(u["a"])(l,i,s,!1,null,"8cc20608",null);a["default"]=g.exports},"99af":function(t,a,e){"use strict";var i=e("23e7"),s=e("d039"),n=e("e8b5"),o=e("861d"),r=e("7b0b"),c=e("50c4"),l=e("8418"),u=e("65f0"),g=e("1dde"),f=e("b622"),d=e("2d00"),p=f("isConcatSpreadable"),v=9007199254740991,h="Maximum allowed index exceeded",C=d>=51||!s((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),_=g("concat"),m=function(t){if(!o(t))return!1;var a=t[p];return void 0!==a?!!a:n(t)},b=!C||!_;i({target:"Array",proto:!0,forced:b},{concat:function(t){var a,e,i,s,n,o=r(this),g=u(o,0),f=0;for(a=-1,i=arguments.length;a<i;a++)if(n=-1===a?o:arguments[a],m(n)){if(s=c(n.length),f+s>v)throw TypeError(h);for(e=0;e<s;e++,f++)e in n&&l(g,f,n[e])}else{if(f>=v)throw TypeError(h);l(g,f++,n)}return g.length=f,g}})},ec3f:function(t,a,e){"use strict";var i=e("3243"),s=e.n(i);s.a}}]);
//# sourceMappingURL=chunk-66e4776a.acb6a372.js.map